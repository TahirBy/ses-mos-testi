<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akademik Ses Kalitesi (MOS) Testi</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f2f5; color: #333; max-width: 900px; margin: 0 auto; padding: 30px 20px; }
        h1, h2 { text-align: center; color: #2c3e50; }
        .intro-box { background: #fff; padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); margin-bottom: 30px; border-left: 5px solid #3498db; }
        .form-group { margin-bottom: 15px; }
        label { font-weight: bold; display: block; margin-bottom: 5px; }
        input[type="text"], select { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; }
        
        /* Ses KartÄ± TasarÄ±mÄ± */
        .sample-card { background: #fff; padding: 20px; margin-bottom: 25px; border-radius: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); transition: transform 0.2s; }
        .sample-card:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .sample-title { font-size: 1.1em; margin-bottom: 15px; color: #555; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        
        .audio-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px; }
        @media (max-width: 600px) { .audio-grid { grid-template-columns: 1fr; } }
        
        .audio-item { background: #f9f9f9; padding: 10px; border-radius: 8px; text-align: center; }
        .tag { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-bottom: 5px; }
        .tag-ref { background: #e1f5fe; color: #0277bd; }
        .tag-model { background: #e8f5e9; color: #2e7d32; }
        audio { width: 100%; margin-top: 5px; }

        .rating-wrapper { text-align: center; margin-top: 15px; }
        .rating-options { display: inline-flex; gap: 15px; background: #fff; border: 1px solid #eee; padding: 10px 20px; border-radius: 50px; }
        .rating-options label { font-weight: normal; margin: 0; cursor: pointer; display: flex; flex-direction: column; align-items: center; }
        
        button#submit-btn { width: 100%; padding: 18px; background-color: #2980b9; color: white; border: none; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; transition: all 0.3s; margin-top: 20px; }
        button#submit-btn:hover { background-color: #2471a3; }
        footer { text-align: center; margin-top: 40px; font-size: 0.9em; color: #777; }
    </style>
</head>
<body>

    <h1>Deep Learning TabanlÄ± Ses SÄ±kÄ±ÅŸtÄ±rma Ã‡alÄ±ÅŸmasÄ±</h1>
    
    <div class="intro-box">
        <h3>ğŸ‘‹ HoÅŸ Geldiniz</h3>
        <p>Bu Ã§alÄ±ÅŸma, geliÅŸtirdiÄŸimiz yapay zeka modelinin ses kalitesi Ã¼zerindeki etkisini Ã¶lÃ§mek amacÄ±yla yapÄ±lmaktadÄ±r. KatkÄ±larÄ±nÄ±z akademik Ã§alÄ±ÅŸmamÄ±z iÃ§in Ã§ok deÄŸerlidir.</p>
        <p><strong>NasÄ±l YapÄ±lÄ±r?</strong></p>
        <ol>
            <li>LÃ¼tfen sessiz bir ortamda bulunun ve mÃ¼mkÃ¼nse <strong>kulaklÄ±k</strong> kullanÄ±n.</li>
            <li>Her Ã¶rnek iÃ§in Ã¶nce <strong>Referans (Orijinal)</strong> sesi dinleyin.</li>
            <li>ArdÄ±ndan <strong>Model Ã‡Ä±ktÄ±sÄ±nÄ±</strong> dinleyin.</li>
            <li>Modelin baÅŸarÄ±sÄ±nÄ± <strong>1 (Ã‡ok KÃ¶tÃ¼)</strong> ile <strong>5 (MÃ¼kemmel)</strong> arasÄ±nda puanlayÄ±n.</li>
        </ol>
    </div>

    <form id="mos-form">
        <div class="sample-card">
            <div class="form-group">
                <label>AdÄ±nÄ±z / Rumuzunuz (Ä°steÄŸe BaÄŸlÄ±):</label>
                <input type="text" name="Katilimci_Ismi" placeholder="Ã–rn: Ahmet Y.">
            </div>
            <div class="form-group">
                <label>KullandÄ±ÄŸÄ±nÄ±z Ekipman:</label>
                <select name="Kulaklik_Tipi">
                    <option value="Kulaklik">KulaklÄ±k (Ã–nerilen)</option>
                    <option value="Laptop_Hoparlor">Laptop HoparlÃ¶rÃ¼</option>
                    <option value="Telefon">Telefon HoparlÃ¶rÃ¼</option>
                    <option value="Diger">DiÄŸer</option>
                </select>
            </div>
        </div>

        <div id="audio-container"></div>

        <button type="submit" id="submit-btn">Testi Tamamla ve GÃ¶nder</button>
    </form>
    
    <footer>Â© 2024 - Akademik AraÅŸtÄ±rma Grubu</footer>

    <script>
        // --- AYARLAR ---
        const scriptURL = 'https://script.google.com/macros/s/AKfycbzaRNt8_Y5B4bWNa9uSwLXDoOmo1_w4d5ccyLFpCfNPdbcOuL7dhHu4r1_jKBdMEIDK/exec';
        
        // YENÄ° SES EKLEMEK Ä°Ã‡Ä°N BURAYI GÃœNCELLEMEN YETERLÄ°
        // id: Google Sheet'teki sÃ¼tun ismiyle AYNI olmalÄ± (s1, s2, s3, s4...)
        const sesListesi = [
            { id: "s1", title: "Ã–rnek 1: KonuÅŸma (Ä°ngilizce)", ref: "audio/sample1_ref.wav", model: "audio/sample1_model.wav" },
            { id: "s2", title: "Ã–rnek 2: MÃ¼zik EnstrÃ¼manÄ±", ref: "audio/sample2_ref.wav", model: "audio/sample2_model.wav" },
            { id: "s3", title: "Ã–rnek 3: GÃ¼rÃ¼ltÃ¼lÃ¼ Ortam", ref: "audio/sample3_ref.wav", model: "audio/sample3_model.wav" },
            // Yeni eklemek istersen virgÃ¼l koy ve alta ÅŸunu ekle:
            // { id: "s4", title: "Ã–rnek 4: Yeni Ses", ref: "audio/yeni_ref.wav", model: "audio/yeni_model.wav" }
        ];

        // --- OTOMATÄ°K OLUÅTURUCU (Dokunmana gerek yok) ---
        const container = document.getElementById('audio-container');

        sesListesi.forEach(ses => {
            const htmlContent = `
            <div class="sample-card">
                <div class="sample-title">${ses.title}</div>
                <div class="audio-grid">
                    <div class="audio-item">
                        <span class="tag tag-ref">Orijinal</span>
                        <audio controls src="${ses.ref}" preload="none"></audio>
                    </div>
                    <div class="audio-item">
                        <span class="tag tag-model">Model Ã‡Ä±ktÄ±sÄ±</span>
                        <audio controls src="${ses.model}" preload="none"></audio>
                    </div>
                </div>
                <div class="rating-wrapper">
                    <div class="rating-options">
                        <label><input type="radio" name="${ses.id}" value="1" required> 1<br><small>KÃ¶tÃ¼</small></label>
                        <label><input type="radio" name="${ses.id}" value="2"> 2<br><small>ZayÄ±f</small></label>
                        <label><input type="radio" name="${ses.id}" value="3"> 3<br><small>Orta</small></label>
                        <label><input type="radio" name="${ses.id}" value="4"> 4<br><small>Ä°yi</small></label>
                        <label><input type="radio" name="${ses.id}" value="5"> 5<br><small>MÃ¼kemmel</small></label>
                    </div>
                </div>
            </div>`;
            container.innerHTML += htmlContent;
        });

        // --- GÃ–NDERME Ä°ÅLEMÄ° ---
        const form = document.getElementById('mos-form');
        const submitBtn = document.getElementById('submit-btn');

        form.addEventListener('submit', e => {
            e.preventDefault();
            submitBtn.innerHTML = "SonuÃ§lar Kaydediliyor...";
            submitBtn.disabled = true;

            const formData = new FormData(form);

            fetch(scriptURL, { method: 'POST', body: formData})
                .then(response => {
                    alert("KatÄ±lÄ±mÄ±nÄ±z iÃ§in teÅŸekkÃ¼r ederiz! Veriler baÅŸarÄ±yla kaydedildi.");
                    submitBtn.innerHTML = "TamamlandÄ±";
                })
                .catch(error => {
                    console.error('Hata!', error.message);
                    alert("Bir hata oluÅŸtu. LÃ¼tfen internet baÄŸlantÄ±nÄ±zÄ± kontrol edip tekrar deneyin.");
                    submitBtn.innerHTML = "Tekrar Dene";
                    submitBtn.disabled = false;
                });
        });
    </script>
</body>
</html>
